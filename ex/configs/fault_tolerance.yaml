# 容错边界测试实验配置文件
# Fault Tolerance Boundary Test Experiment Configuration

experiment_name: "fault_tolerance_boundary_test"
description: "测试BFT4Agent协议在面对刁钻问题时的容错边界，分别测试Leader诚实和恶意两种场景"

# 实验变量
variables:
  # 节点总数（满足 n = 3f + 1）
  num_agents: [10]

  # 恶意节点数量（测试从0%到33%）
  # 0个(0%), 1个(11%), 2个(22%), 3个(33%), 4个(44%)
  malicious_count: [0, 1, 2, 3, 4]

  # Leader类型：分别测试诚实Leader和恶意Leader
  leader_type: ['honest', 'malicious']

  # 网络延迟范围（毫秒）
  network_delay: [[10, 100]]

  # LLM后端选择
  # - mock: 模拟LLM（快速测试）
  # - qwen: 通义千问（推荐，中文优化）
  # - zhipu: 智谱GLM
  # - openai: GPT系列
  llm_backend: ['qwen']

# 任务配置
tasks:
  file: "tricky_questions.json"  # 专门的刁钻问题数据集
  num_tasks: 5                   # 每个配置运行的任务数
  shuffle: true                  # 随机打乱任务顺序

# 全局配置
global:
  timeout: 30.0                  # 单次共识超时时间（秒）
  max_retries: 10                # 最大重试次数（视图切换）
  mock_accuracy: 0.7             # Mock LLM准确率（模拟刁钻问题的困难度）

# LLM API配置（如果使用真实LLM）
llm_api_config:
  # Qwen配置
  qwen:
    api_key: "${QWEN_API_KEY}"
    app_id: "${QWEN_APP_ID}"
    # model: "qwen-max"

  # Zhipu配置
  zhipu:
    api_key: "${ZHIPU_API_KEY}"
    model: "glm-4-plus"

  # OpenAI配置
  openai:
    api_key: "${OPENAI_API_KEY}"
    model: "gpt-4"
